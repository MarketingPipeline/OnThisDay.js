/**!
 * @license OnThisDay.js - A JavaScript library to find out what events happened today or any day in history.
 * VERSION: 1.0.0
 * CREATED BY: Jared Van Valkengoed
 * LICENSED UNDER MIT LICENSE
 * MORE INFO CAN BE FOUND AT https://github.com/MarketingPipeline/OnThisDay.js/
 */ import t from"https://cdn.skypack.dev/wtf_wikipedia@10.1.5";function splitEventText(t){t=t.replace(/\s+/g," ").trim();let e=t.match(/^(?:\* )?(\d{1}|\d{2}|\d{3}|\d{4}) â€“ (.*)$/);if(!e)return null;{let r=parseInt(e[1]),i=e[2].trim();return{year:r,event:i}}}export async function OnThisDay(e){try{if(e){let r=e.match(/^(\b(?:January|February|March|April|May|June|July|August|September|October|November|December)\b) (\d{1,2})$/);if(!r)throw Error('Invalid input. Please provide a valid month and day (e.g., "July 16").');r&&(e=`${r[1]} ${r[2]}`)}let i=new Date;e||(e=`${["January","February","March","April","May","June","July","August","September","October","November","December"][i.getMonth()]} ${i.getDate()}`);let a=await t.fetch(e,{"Api-User-Agent":"OnThisDay.js"}),s=a.sections(),n={date:a.title(),events:[],births:[],deaths:[]};for(let l=2;l<=4;l++){let p=s[l].text().trim();n.events.push(...p.split("\n").map(splitEventText))}for(let h=6;h<=8;h++){let u=s[h].text().trim();n.births.push(...u.split("\n").map(splitEventText))}for(let m=10;m<=12;m++){let o=s[m].text().trim();n.deaths.push(...o.split("\n").map(splitEventText))}return Object.assign({events:()=>n.events,births:()=>n.births,deaths:()=>n.deaths,all:()=>n},n)}catch(c){throw Error(`Error fetching events from Wikipedia. ${c.message}`)}}
